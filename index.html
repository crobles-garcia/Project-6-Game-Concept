<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Water Quest</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 0;
      background-color: #f0f4f8;
      color: #333;
      text-align: center;
    }
    header {
      background-color: #f9f9f9;
      padding: 20px;
      border-bottom: 2px solid #ddd;
    }
    .logo {
      font-size: 2em;
      font-weight: bold;
      color: #f9c70b;
    }
    .subtitle {
      font-size: 1.2em;
      margin: 10px 0;
    }
    .instructions {
      font-size: 0.95em;
      margin: 15px;
      background-color: #fff3cd;
      padding: 10px;
      border-left: 5px solid #ffeeba;
      display: inline-block;
      text-align: left;
    }
    .btn {
      display: inline-block;
      margin: 10px;
      padding: 10px 20px;
      font-size: 1em;
      background-color: #f9c70b;
      color: #000;
      border: none;
      border-radius: 5px;
      cursor: pointer;
    }
    .btn:hover {
      background-color: #e8b309;
    }
    .upgrades {
      margin: 20px;
    }
    .upgrade-box {
      display: inline-block;
      margin: 10px;
      padding: 10px;
      border: 2px solid #ccc;
      border-radius: 8px;
    }
    .game-screen {
      display: none;
      position: relative;
      height: 400px;
      background-color: #d0e8f2;
      overflow: hidden;
    }
    .player {
      width: 30px;
      height: 30px;
      background-color: #333;
      position: absolute;
      bottom: 0;
      left: 10px;
    }
    .obstacle,
    .water-drop {
      position: absolute;
      bottom: 0;
    }
    .obstacle {
      width: 40px;
      height: 40px;
      background-color: #a33;
    }
    .water-drop {
      width: 20px;
      height: 30px;
      background-color: #00f;
      border-radius: 50%;
    }
    footer {
      margin-top: 20px;
      font-size: 0.9em;
    }
  </style>
</head>
<body>
  <header>
    <div class="logo">❁ WATER QUEST</div>
    <div class="subtitle">The Journey to Clean Water</div>
    <button class="btn" onclick="startGame()">Start</button>
    <button class="btn" onclick="alert('Learn more at charitywater.org')">About the Mission</button>
    <div style="font-size: 0.8em; margin-top: 10px;">Inspired by charity: water</div>
  </header>

  <div class="instructions">
    <strong>How to Play:</strong><br>
    • Press "Start" to begin the game<br>
    • Use the <strong>Left (←)</strong> and <strong>Right (→)</strong> arrow keys to move the player<br>
    • Collect the blue water drops to gain points<br>
    • You have 30 seconds to collect as much water as you can!
  </div>

  <div class="upgrades">
    <div class="upgrade-box">✔ New Well</div>
    <div class="upgrade-box">✔ Water Filter</div>
    <div class="upgrade-box">✔ Sanitation Station</div>
  </div>

  <div class="game-screen" id="gameScreen">
    <div id="player" class="player"></div>
  </div>

  <footer>
    <div>“1 in 10 people lack access to clean water...”</div>
  </footer>

  <script>
    let score = 0;
    let player;
    let scoreDisplay;
    let timerDisplay;
    let timer;
    let timeLeft = 30;

    function startGame() {
      document.getElementById('gameScreen').innerHTML = '<div id="player" class="player"></div>';
      document.getElementById('gameScreen').style.display = 'block';
      player = document.getElementById('player');

      score = 0;
      timeLeft = 30;

      // Add score display
      scoreDisplay = document.createElement('div');
      scoreDisplay.style.position = 'absolute';
      scoreDisplay.style.top = '10px';
      scoreDisplay.style.right = '10px';
      scoreDisplay.style.fontSize = '1.2em';
      scoreDisplay.style.backgroundColor = '#fff';
      scoreDisplay.style.padding = '5px 10px';
      scoreDisplay.style.borderRadius = '8px';
      scoreDisplay.innerText = `Score: ${score}`;
      document.getElementById('gameScreen').appendChild(scoreDisplay);

      // Add timer display
      timerDisplay = document.createElement('div');
      timerDisplay.style.position = 'absolute';
      timerDisplay.style.top = '10px';
      timerDisplay.style.left = '10px';
      timerDisplay.style.fontSize = '1.2em';
      timerDisplay.style.backgroundColor = '#fff';
      timerDisplay.style.padding = '5px 10px';
      timerDisplay.style.borderRadius = '8px';
      timerDisplay.innerText = `Time: ${timeLeft}`;
      document.getElementById('gameScreen').appendChild(timerDisplay);

      document.addEventListener('keydown', movePlayer);
      timer = setInterval(updateTimer, 1000);
      spawnWaterDrop();
    }

    function updateTimer() {
      timeLeft--;
      timerDisplay.innerText = `Time: ${timeLeft}`;

      if (timeLeft <= 0) {
        clearInterval(timer);
        document.removeEventListener('keydown', movePlayer);
        alert(`Time's up! Your final score is: ${score}`);
      }
    }

    function movePlayer(e) {
      const left = parseInt(window.getComputedStyle(player).left);
      if (e.key === 'ArrowRight' && left < 370) {
        player.style.left = left + 10 + 'px';
      } else if (e.key === 'ArrowLeft' && left > 0) {
        player.style.left = left - 10 + 'px';
      }

      checkCollision();
    }

    function spawnWaterDrop() {
      const water = document.createElement('div');
      water.className = 'water-drop';
      water.style.left = Math.floor(Math.random() * 360) + 'px';
      document.getElementById('gameScreen').appendChild(water);
      setInterval(() => {
        if (timeLeft > 0) {
          water.style.left = Math.floor(Math.random() * 360) + 'px';
        }
      }, 2000);
    }

    function checkCollision() {
      const playerRect = player.getBoundingClientRect();
      const drops = document.querySelectorAll('.water-drop');

      drops.forEach(drop => {
        const dropRect = drop.getBoundingClientRect();
        if (
          playerRect.left < dropRect.right &&
          playerRect.right > dropRect.left &&
          playerRect.top < dropRect.bottom &&
          playerRect.bottom > dropRect.top
        ) {
          score += 10;
          scoreDisplay.innerText = `Score: ${score}`;
          drop.remove();
          spawnWaterDrop();
        }
      });
    }
  </script>
</body>
</html>

